# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–µ–π Gemini

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–µ–π Google Gemini –≤ –ø—Ä–æ–µ–∫—Ç–µ ComDig. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ Gemini –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π.

## üìã –¢–µ–∫—É—â–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏

### Gemini 2.5 Flash Preview 05-20 (–¢–µ–∫—É—â–∞—è)
- **–ú–æ–¥–µ–ª—å**: `gemini-2.5-flash-preview-05-20`
- **API –≤–µ—Ä—Å–∏—è**: `v1alpha`
- **Input token limit**: 1,048,576
- **Output token limit**: 65,536
- **RPM**: 10
- **TPM**: 250,000
- **RPD**: 500
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### Gemini 2.0 Flash (–ü—Ä–µ–¥—ã–¥—É—â–∞—è)
- **–ú–æ–¥–µ–ª—å**: `gemini-2.0-flash-preview-05-20`
- **API –≤–µ—Ä—Å–∏—è**: `v1alpha`
- **Input token limit**: 1,048,576
- **Output token limit**: 8,192
- **RPM**: 30
- **TPM**: 1,000,000
- **RPD**: 1,500
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ó–∞–º–µ–Ω–µ–Ω–∞

## üîß –ü—Ä–æ—Ü–µ—Å—Å —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏

–ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö:

```bash
# –ü–æ–∏—Å–∫ —Ç–µ–∫—É—â–∏—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π
grep -r "gemini-2\.5-flash-preview-05-20" .

# –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
# - process_video.py
# - comments_downloader.py
# - gemini_ranker.py
# - multi_key_gemini_ranker.py
```

**–ú–µ—Å—Ç–∞ –∑–∞–º–µ–Ω—ã:**
```python
# –í –º–µ—Ç–æ–¥–∞—Ö generate_content
model='–ù–û–í–ê–Ø_–ú–û–î–ï–õ–¨_–ó–î–ï–°–¨',
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ API

**–§–∞–π–ª**: `gemini_ranker.py` ‚Üí –∫–ª–∞—Å—Å `GeminiRateLimiter`

```python
def __init__(self):
    # –õ–∏–º–∏—Ç—ã –¥–ª—è –ù–û–í–ê–Ø_–ú–û–î–ï–õ–¨
    self.rpm_limit = –ù–û–í–´–ô_RPM_–õ–ò–ú–ò–¢
    self.tpm_limit = –ù–û–í–´–ô_TPM_–õ–ò–ú–ò–¢  
    self.rpd_limit = –ù–û–í–´–ô_RPD_–õ–ò–ú–ò–¢
```

**–§–∞–π–ª**: `multi_key_gemini_ranker.py` ‚Üí –∫–ª–∞—Å—Å `MultiKeyGeminiRateLimiter`

```python
def __init__(self):
    # –õ–∏–º–∏—Ç—ã –¥–ª—è –ù–û–í–ê–Ø_–ú–û–î–ï–õ–¨
    self.rpm_limit = –ù–û–í–´–ô_RPM_–õ–ò–ú–ò–¢
    self.tpm_limit = –ù–û–í–´–ô_TPM_–õ–ò–ú–ò–¢
    self.rpd_limit = –ù–û–í–´–ô_RPD_–õ–ò–ú–ò–¢
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ API

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è API:

```python
# –î–ª—è preview –º–æ–¥–µ–ª–µ–π –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è v1alpha
client = genai.Client(
    api_key=self.api_key,
    http_options=types.HttpOptions(api_version='v1alpha')
)
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

1. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ:**
```python
print(f"ü§ñ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: Google –ù–û–í–ê–Ø_–ú–û–î–ï–õ–¨ (–∫–æ–Ω—Ç–µ–∫—Å—Ç: ~XM —Ç–æ–∫–µ–Ω–æ–≤)")
```

2. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
- `project_current_stage.md`
- `PROJECT_FILES_DOCUMENTATION.md`
- `README.md`

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –º–æ–¥–µ–ª–µ–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Gemini 2.0 Flash | Gemini 2.5 Flash Preview |
|----------------|-------------------|---------------------------|
| Input Tokens   | 1,048,576        | 1,048,576                |
| Output Tokens  | 8,192            | 65,536                   |
| RPM            | 30               | 10                       |
| TPM            | 1,000,000        | 250,000                  |
| RPD            | 1,500            | 500                      |
| API Version    | v1alpha          | v1alpha                  |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# –¢–µ—Å—Ç –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–º –≤–∏–¥–µ–æ
docker exec -it comdig-comments-downloader-1 python process_video.py https://www.youtube.com/watch?v=SHORT_VIDEO_ID

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs comdig-comments-downloader-1
```

### –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

```bash
# –¢–µ—Å—Ç –Ω–∞ –ø–æ–ª–Ω–æ–º –≤–∏–¥–µ–æ
docker exec -it comdig-comments-downloader-1 python process_video.py https://www.youtube.com/watch?v=FULL_VIDEO_ID

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
docker exec -it comdig-comments-downloader-1 python gemini_ranker.py VIDEO_ID

# –ú—É–ª—å—Ç–∏–∫–ª—é—á–µ–≤–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
docker exec -it comdig-comments-downloader-1 python multi_key_gemini_ranker.py VIDEO_ID
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: 404 Model not found

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è API –∏–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é API (`v1alpha` vs `v1beta`)
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ API
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç API

**–ü—Ä–∏—á–∏–Ω–∞**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –ø—Ä–æ–º–ø—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
2. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã –ø–æ–¥ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –û–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –≤ `GeminiRateLimiter`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Google
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–∂–∏–¥–∞–Ω–∏—è

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã API (RPM, TPM, RPD)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é API (v1alpha/v1beta)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `project_current_stage.md`
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏

–î–ª—è –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

```bash
#!/bin/bash
# migrate_gemini_model.sh

OLD_MODEL="$1"
NEW_MODEL="$2"
NEW_RPM="$3"
NEW_TPM="$4"
NEW_RPD="$5"

# –ó–∞–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏
find . -name "*.py" -exec sed -i "s/$OLD_MODEL/$NEW_MODEL/g" {} \;

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
echo "–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –≤ gemini_ranker.py –∏ multi_key_gemini_ranker.py"
echo "RPM: $NEW_RPM, TPM: $NEW_TPM, RPD: $NEW_RPD"
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Google AI Studio](https://aistudio.google.com/)
- [Gemini API Documentation](https://ai.google.dev/docs)
- [Rate Limits Documentation](https://ai.google.dev/docs/rate_limits)
- [Model Comparison](https://ai.google.dev/models/gemini)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 27 –º–∞—è 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–ê–≤—Ç–æ—Ä**: ComDig Development Team 